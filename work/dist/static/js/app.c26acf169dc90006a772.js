webpackJsonp([1],{"+OOr":function(t,e){},"+rfO":function(t,e){},"/FbG":function(t,e){},"5c0L":function(t,e){},"5t8L":function(t,e){},DmMy:function(t,e){},HKyu:function(t,e){},IuFh:function(t,e,s){(function(t){"use strict";function e(t,s){var r=i({},t);for(var a in s)"object"!=typeof t[a]||null===t[a]||Array.isArray(t[a])?void 0!==s[a]&&(r[a]=s[a]):r[a]=e(t[a],s[a]);return r}function s(){return"1.12 (internal id 630b704a @ 2018-06-06 02:16:11.305509)"}var i=Object.assign||function(t){for(var e,s=arguments,i=1,r=arguments.length;i<r;i++)for(var a in e=s[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},r={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},a={width:800,height:500,symbol:"AA",interval:"D",timezone:"UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},n=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=e(a,t),t.preset){var s=r[t.preset];s?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(s.disabled_features):this._options.disabled_features=s.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(s.enabled_features):this._options.enabled_features=s.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,s){this._innerAPI().changeSymbol(t,e+"",s)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var t=this._getIFrameElement();t.contentWindow.destroyChart(),t.parentNode&&t.parentNode.removeChild(t)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,s,i){this._innerAPI().saveChartToServer(t,e,s,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=e(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype._getIFrameElement=function(){var t=document.getElementById(this._id);if(null===t)throw new Error("There is no such iframe");return t},t.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},t.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),s=document.getElementById(this._options.container_id);if(null===s)throw new Error("There is no such element - #"+this._options.container_id);s.innerHTML=e;var i=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var r=function(){i.removeEventListener("load",r,!1),i.contentWindow.widgetReady(function(){t._ready=!0;for(var e=0,s=t._readyHandlers;e<s.length;e++)s[e].call(t);i.contentWindow.initializationFinished()})};i.addEventListener("load",r,!1)},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||"")+"static/tv-chart.630b704a2b9d0eaf1593.html#localserver=1&symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.indicators_file_name?"&indicatorsFile="+encodeURIComponent(this._options.indicators_file_name):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.onready=function(t){window.addEventListener("DOMContentLoaded",t,!1)},t.widget=n,Object.defineProperty(t,"__esModule",{value:!0})})(e)},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),r=s("mvHQ"),a=s.n(r),n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"txu-header"},[e("h1",[this._v("Trading Exchange UI")])])}]};var o=s("VU/8")({name:"TxuHeader"},n,!1,function(t){s("tnfK")},"data-v-868adb50",null).exports,c=s("ViqS"),l=s.n(c),u={name:"MarketItem",components:{},props:{marketName:String,valueMode:Boolean,baseCoin:String,isFavMode:Boolean},data:function(){return{isSelected:this.$store.state.market.currentMarket===this.marketName,isFavorite:!1,curPrice:0,percentSign:!1,changePercent:0,amount:0,volume:0,orderNo:this.$gP.MPOrders[this.marketName]}},computed:{},mounted:function(){this.$store.watch(function(t){return t.market.currentMarket},this.marketSelect,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0}),this.$store.watch(function(t){return t.socket.isConnected},this.sendTodayQuery,{deep:!0}),this.checkFavorite()},methods:{sendTodayQuery:function(t){t&&this.$socket.send(a()({method:"state.query",params:[this.marketName,86400],id:this.$gP.MARKET_QUERY+this.orderNo}))},checkFavorite:function(){var t=localStorage.getItem("lbx_sgbas_com_fav");void 0!==t&&null!=t&&(t=JSON.parse(t)).indexOf(this.marketName)>-1&&(this.isFavorite=!0)},msgHandler:function(){var t=JSON.parse(this.$store.state.socket.message);t.id==this.$gP.MARKET_QUERY+this.orderNo?null==t.error?this.changeMarketInfo(t.result):(console.log("Can't get Market Status Information."),console.error(t.error.message+" : "+this.marketName)):"state.update"==t.method&&t.params[0]==this.marketName&&this.changeMarketInfo(t.params[1])},onSelectedMarket:function(){if(window.event.target.className.indexOf("cur-hand")>-1){this.isFavorite=!this.isFavorite;var t=localStorage.getItem("lbx_sgbas_com_fav");if(this.isFavorite)if(void 0!==t&&null!=t)(t=JSON.parse(t)).push(this.marketName),localStorage.setItem("lbx_sgbas_com_fav",a()(t));else{var e=[];e.push(this.marketName),localStorage.setItem("lbx_sgbas_com_fav",a()(e))}else if(void 0!==t&&null!=t){var s=(t=JSON.parse(t)).indexOf(this.marketName);s>-1&&t.splice(s,1),localStorage.setItem("lbx_sgbas_com_fav",a()(t))}}else this.$store.state.market.currentMarket=this.marketName,this.$store.state.market.fiatCoin=this.marketName.substr(0,this.marketName.lastIndexOf(this.$store.state.market.baseCoin))},marketSelect:function(){this.isSelected=this.$store.state.market.currentMarket===this.marketName,this.isSelected&&this.updateTickerInfo()},changeMarketInfo:function(t){this.curPrice=t.last,this.amount=t.deal,this.value=t.volume,t.open>0?this.changePercent=(t.open-t.last)/t.open*100:this.changePercent=0,this.percentSign=this.changePercent<0;for(var e=this.$store.state.market.marketOrders.slice(0),s=0;s<e.length;s++)e[s].coin==this.marketName&&(e[s].price=Number(t.last),e[s].value=Number(t.volume),e[s].percent=this.changePercent);this.$store.state.market.marketOrders=e,this.$eventBus.$emit("market-data-loaded",this.marketName),this.isSelected&&this.updateTickerInfo()},getRowColor:function(){return{"color-red":this.percentSign,"color-green":!this.percentSign}},getMarketValue:function(){return this.valueMode?this.value:this.changePercent},updateTickerInfo:function(){this.$store.state.market.curMarketPrice=this.curPrice,this.$store.state.market.change24=this.changePercent,this.$store.state.market.highest24=this.curPrice,this.$store.state.market.lowest24=this.curPrice,this.$store.state.market.volume24=this.value,this.$store.state.market.amount24=this.amount,this.$store.state.market.percentSign=this.percentSign},getDisplayStatus:function(){return this.isFavMode?this.isFavorite&&this.marketName.indexOf(this.baseCoin)>-1:this.marketName.indexOf(this.baseCoin)>-1}},filters:{formatNumber:function(t){return l()(t).format("0,0.[0000]")}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getDisplayStatus()?s("tr",{staticClass:"cur-hand",on:{click:function(e){t.onSelectedMarket()}}},[s("td",{staticClass:"td-dest",attrs:{"aria-colindex":"1"}},[s("div",{staticClass:"name-wrap",class:{"market-active":t.isSelected}},[s("span",{staticClass:"component-market-fav cur-hand",class:{checked:t.isFavorite}}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(t.marketName))])])]),t._v(" "),s("td",{staticClass:"td-last",attrs:{"aria-colindex":"2"}},[s("div",{staticClass:"price",class:t.getRowColor(),attrs:{title:"4,810.57 USD"}},[s("div",{staticClass:"component-number",staticStyle:{"white-space":"nowrap",width:"94%",display:"flex","flex-direction":"row-reverse"}},[s("span",{staticClass:"float-right number"},[t._v(t._s(t._f("formatNumber")(t.curPrice)))])])])]),t._v(" "),s("td",{class:{"td-diff":!t.valueMode,"td-deal":t.valueMode},attrs:{"aria-colindex":"3"}},[s("span",{class:t.getRowColor()},[t._v(t._s(t._f("formatNumber")(t.getMarketValue()))+t._s(t.valueMode?"":"%"))])])]):t._e()},staticRenderFns:[]};var h=s("VU/8")(u,d,!1,function(t){s("fH1Z")},"data-v-1a97f442",null).exports,m=s("/Ce5"),_=[{id:0,name:"BCHBTC",description:"BCHBTC"},{id:1,name:"LTCBTC",description:"LTCBTC"},{id:2,name:"ETHBTC",description:"ETHBTC"},{id:3,name:"ZECBTC",description:"ZECBTC"},{id:4,name:"XMRBTC",description:"XMRBTC"},{id:5,name:"BCHUSDT",description:"BCHUSDT"},{id:6,name:"LTCUSDT",description:"LTCUSDT"},{id:7,name:"ETHUSDT",description:"ETHUSDT"},{id:8,name:"ZECUSDT",description:"ZECUSDT"},{id:9,name:"XMRUSDT",description:"XMRUSDT"}],v={name:"TxuMarket",components:{MarketItem:h,Autocomplete:s.n(m).a},props:[],data:function(){return{marketOrders:this.$store.state.market.marketOrders,valueMode:!0,coins:_,currentMarket:this.$store.state.market.currentMarket,sortingField:"value",sortingDirection:!0,baseCoin:this.$store.state.market.baseCoin,fiatCoin:this.$store.state.market.fiatCoin,isFavoriteMode:!1}},created:function(){var t=this;this.$eventBus.$on("market-data-loaded",function(e){t.marketOrders=t.$store.state.market.marketOrders,t.changeSortingMode()})},computed:{},mounted:function(){this.$store.watch(function(t){return t.socket.isConnected},this.sendMarketSubscribe,{deep:!0})},methods:{onChangeSortingMode:function(t){this.sortingField==t?this.sortingDirection=!this.sortingDirection:this.sortingDirection=!0,this.sortingField=t,this.changeSortingMode()},changeSortingMode:function(){switch(this.sortingField){case"coin":this.marketOrders.sort(this.coinSortCompare);break;case"price":this.marketOrders.sort(this.priceSortCompare);break;case"value":this.marketOrders.sort(this.valueSortCompare);break;case"percent":this.marketOrders.sort(this.percentSortCompare)}},coinSortCompare:function(t,e){return this.sortingDirection?t.coin<e.coin?-1:t.coin>e.coin?1:0:t.coin>e.coin?-1:t.coin<e.coin?1:0},priceSortCompare:function(t,e){return this.sortingDirection?t.price>e.price?-1:t.price<e.price?1:0:t.price<e.price?-1:t.price>e.price?1:0},valueSortCompare:function(t,e){return this.sortingDirection?t.value>e.value?-1:t.value<e.value?1:0:t.value<e.value?-1:t.value>e.value?1:0},percentSortCompare:function(t,e){return this.sortingDirection?t.percent<e.percent?-1:t.percent>e.percent?1:0:t.percent>e.percent?-1:t.percent<e.percent?1:0},getCoinSortClass:function(){return"coin"==this.sortingField?{sorting_asc:!this.sortingDirection,sorting_desc:this.sortingDirection}:{}},getPriceSortClass:function(){return"price"==this.sortingField?{sorting_asc:!this.sortingDirection,sorting_desc:this.sortingDirection}:{}},getValueSortClass:function(){return"value"==this.sortingField?{sorting_asc:!this.sortingDirection,sorting_desc:this.sortingDirection,"th-diff":!this.valueMode,"th-deal":this.valueMode}:{"th-diff":!this.valueMode,"th-deal":this.valueMode}},sendMarketSubscribe:function(t,e){t&&this.$socket.send(a()({method:"state.subscribe",params:this.$gP.MarketPairs,id:this.$gP.MARKET_SUBSCRIBE}))},onChangeValueMode:function(t){this.valueMode=t,this.sortingField=t?"value":"percent",this.changeSortingMode()},onChangeMarket:function(t){this.baseCoin=t,this.$store.state.market.baseCoin=t},onSelectCoin:function(t){this.$store.state.market.currentMarket=t.display,this.$store.state.market.fiatCoin=t.display.substr(0,t.display.lastIndexOf(this.$store.state.market.baseCoin)),this.$refs.coinSearch.clear(),t.value<5?this.onChangeMarket("BTC"):this.onChangeMarket("USDT")}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"txu-market"}},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"search-select search-container",attrs:{id:"search-select"}},[s("autocomplete",{ref:"coinSearch",attrs:{placeholder:"coin","input-class":"input form-control",source:t.coins},on:{selected:t.onSelectCoin}})],1),t._v(" "),s("div",{staticClass:"option-wrap"},[s("div",{staticClass:"option"},[s("div",{staticClass:"radiogroup",attrs:{role:"radiogroup",tabindex:"-1"}},[s("label",{staticClass:"custom-control custom-radio",on:{click:function(e){t.onChangeValueMode(!0)}}},[s("input",{staticClass:"custom-control-input",attrs:{type:"radio",autocomplete:"off",value:"deal",checked:"checked",name:"market_value_type"}}),t._v(" "),s("span",{staticClass:"custom-control-indicator",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"custom-control-description"},[t._v("24H value")])]),t._v(" "),s("label",{staticClass:"custom-control custom-radio",on:{click:function(e){t.onChangeValueMode(!1)}}},[s("input",{staticClass:"custom-control-input",attrs:{type:"radio",autocomplete:"off",value:"diff",name:"market_value_type"}}),t._v(" "),s("span",{staticClass:"custom-control-indicator",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"custom-control-description"},[t._v("24H change")])])])]),t._v(" "),s("label",{staticClass:"fav-checkbox cur-hand custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isFavoriteMode,expression:"isFavoriteMode"}],staticClass:"custom-control-input",attrs:{type:"checkbox",autocomplete:"off"},domProps:{checked:Array.isArray(t.isFavoriteMode)?t._i(t.isFavoriteMode,null)>-1:t.isFavoriteMode},on:{change:function(e){var s=t.isFavoriteMode,i=e.target,r=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&(t.isFavoriteMode=s.concat([null])):a>-1&&(t.isFavoriteMode=s.slice(0,a).concat(s.slice(a+1)))}else t.isFavoriteMode=r}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator",attrs:{"aria-hidden":"true"}}),t._v(" "),t._m(0)])])]),t._v(" "),s("div",{staticClass:"market-box"},[s("ul",{staticClass:"currency-tabs"},[s("li",{staticClass:"tab-item cur-hand",class:{active:"BTC"==t.baseCoin},on:{click:function(e){t.onChangeMarket("BTC")}}},[t._v("BTC")]),t._v(" "),s("li",{staticClass:"tab-item cur-hand",class:{active:"USDT"==t.baseCoin},on:{click:function(e){t.onChangeMarket("USDT")}}},[t._v("USDT")])]),t._v(" "),s("div",{staticClass:"title-table-wrap"},[s("table",{staticClass:"table b-table",attrs:{"aria-busy":"false","aria-colcount":"3"}},[s("thead",{},[s("tr",[s("th",{staticClass:"sorting th-dest",class:t.getCoinSortClass(),attrs:{tabindex:"0","aria-colindex":"1"},on:{click:function(e){t.onChangeSortingMode("coin")}}},[t._v("\n                          Coin\n                      ")]),t._v(" "),s("th",{staticClass:"sorting th-last",class:t.getPriceSortClass(),attrs:{tabindex:"0","aria-colindex":"2"},on:{click:function(e){t.onChangeSortingMode("price")}}},[t._v("\n                          Price\n                      ")]),t._v(" "),s("th",{staticClass:"sorting ",class:t.getValueSortClass(),attrs:{tabindex:"0","aria-colindex":"3"},on:{click:function(e){t.onChangeSortingMode("value")}}},[t._v("\n                          "+t._s(t.valueMode?"value":"change")+"\n                      ")])])]),t._v(" "),s("tbody")])]),t._v(" "),s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table b-table",attrs:{"aria-busy":"false","aria-colcount":"3","data-id":"market-table"}},[s("thead",{},[s("tr",[s("th",{staticClass:"sorting th-dest",attrs:{tabindex:"0","aria-colindex":"1","aria-label":"Click to sort Descending"}},[t._v("\n                        Coin\n                    ")]),t._v(" "),s("th",{staticClass:"sorting th-last",attrs:{tabindex:"0","aria-colindex":"2","aria-label":"Click to sort Descending"}},[t._v("\n                        Price\n                    ")]),t._v(" "),s("th",{staticClass:"sorting",class:{"th-diff":!t.valueMode,"th-deal":t.valueMode},attrs:{tabindex:"0","aria-colindex":"3","aria-label":"Click to sort Descending"}},[t._v("\n                        "+t._s(t.valueMode?"value":"change")+"\n                    ")])])]),t._v(" "),s("tbody",{},t._l(t.marketOrders,function(e){return s("MarketItem",{key:e.coin,attrs:{baseCoin:t.baseCoin,marketName:e.coin,isFavMode:t.isFavoriteMode,valueMode:t.valueMode}})}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"custom-control-description"},[e("span",{staticClass:"fav-text"},[this._v("show")]),this._v(" "),e("i",{staticClass:"fa fa-star"})])}]};var f=s("VU/8")(v,p,!1,function(t){s("/FbG")},"data-v-67b85aa8",null).exports,b={name:"Ticker",components:{},props:{},data:function(){return{marketName:this.$store.state.market.currentMarket,curMarketPrice:this.$store.state.market.curMarketPrice,change24:this.$store.state.market.change24,highest24:this.$store.state.market.highest24,lowest24:this.$store.state.market.lowest24,value24:this.$store.state.market.volume24,volume24:this.$store.state.market.volume24,baseCoin:this.$store.state.market.baseCoin,percentSign:this.$store.state.market.percentSign,fiatCoin:this.$store.state.market.fiatCoin}},computed:{},mounted:function(){this.$store.watch(function(t){return t.market},this.marketSelect,{deep:!0})},methods:{marketSelect:function(){var t=this.$store.state.market;this.marketName=t.currentMarket,this.curMarketPrice=t.curMarketPrice,this.change24=t.change24,this.highest24=t.highest24,this.lowest24=t.lowest24,this.value24=t.volume24,this.percentSign=t.percentSign,this.fiatCoin=t.fiatCoin,this.baseCoin=t.baseCoin,0==Number(this.curMarketPrice)?this.volume24=0:this.volume24=t.volume24/this.curMarketPrice},getRowColor:function(){return{"c-red":this.percentSign,"c-green":!this.percentSign}}},filters:{formatNumber:function(t){return l()(t).format("0,0.[0000]")}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"ticker-panel"}},[s("div",[s("div",{staticClass:"price-section"},[t._m(0),t._v(" "),s("a",{staticClass:"info",attrs:{rel:"noopener",href:"#",target:"_blank"}},[t._v("[i]")]),t._v(" "),s("span",{staticClass:"coin"},[t._v(t._s(t.marketName))]),t._v(" "),s("div",{staticClass:"price",class:t.getRowColor()},[t._v(t._s(t.curMarketPrice))]),t._v(" "),s("div",{staticClass:"legal",staticStyle:{display:"none"}},[t._v("0.0017 USD")])]),t._v(" "),s("div",{staticClass:"ticker-section"},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v("24H Change")]),t._v(" "),s("p",{staticClass:"text",class:t.getRowColor()},[t._v(t._s(t._f("formatNumber")(t.change24))+"%")])]),t._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v("24H Highest")]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.highest24)+" "+t._s(t.baseCoin))])]),t._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v("24H Lowest")]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.lowest24)+" "+t._s(t.baseCoin))])]),t._v(" "),s("div",{staticClass:"item large"},[s("p",{staticClass:"name"},[t._v("24H Volume/Value")]),t._v(" "),s("div",{staticClass:"text"},[s("span",[t._v(t._s(t.volume24))]),t._v(" "+t._s(t.fiatCoin)+" / "),s("span",[t._v(t._s(t.value24))]),t._v(" "+t._s(t.baseCoin)+"\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"fav-market-pair cur-hand"},[e("i",{staticClass:"fa fa-star-o",attrs:{"aria-hidden":"true"}})])}]};var C=s("VU/8")(b,g,!1,function(t){s("5c0L")},"data-v-95739202",null).exports,k=s("IuFh"),y=s("woOf"),S=s.n(y),E=s("//Fk"),I=s.n(E),T=s("Zrlr"),w=s.n(T),M=s("wxAW"),P=s.n(M),A=function(){function t(e){w()(this,t),this.subscribers={},this.requestsPending=0,this.historyProvider=e}return P()(t,[{key:"subscribeBars",value:function(t,e,s,i){this.subscribers[i]={lastBarTime:null,listener:s,resolution:e,symbolInfo:t}}},{key:"unsubscribeBars",value:function(t){delete this.subscribers[t]}},{key:"updateData",value:function(){var t=this;if(!this.requestsPending)for(var e in this.requestsPending=0,this.subscribers)this.requestsPending++,this.updateDataForSubscriber(e).then(function(){return t.requestsPending--}).catch(function(){return t.requestsPending--})}},{key:"updateDataForSubscriber",value:function(t){var e=this;return new I.a(function(s,i){var r=e.subscribers[t],a=parseInt((Date.now()/1e3).toString()),n=a-e.periodLengthSeconds(r.resolution,10);e.historyProvider.getBars(r.symbolInfo,r.resolution,n,a,function(i){e.onSubscriberDataReceived(t,i),s()},function(){i()})})}},{key:"onSubscriberDataReceived",value:function(t,e){if(this.subscribers.hasOwnProperty(t)&&e.length){var s=e[e.length-1],i=this.subscribers[t];if(!(null!==i.lastBarTime&&s.time<i.lastBarTime)){if(null!==i.lastBarTime&&s.time>i.lastBarTime){if(e.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var r=e[e.length-2];i.listener(r)}i.lastBarTime=s.time,i.listener(s)}}}},{key:"periodLengthSeconds",value:function(t,e){return 24*("D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440)*60*60}}]),t}(),B=function(){function t(e){w()(this,t),this.self=e,this.barsUpdater=new A(this)}return P()(t,[{key:"onReady",value:function(t){var e=this;return new I.a(function(t,s){var i=e.defaultConfiguration();e.self.getConfig&&(i=S()(e.defaultConfiguration(),e.self.getConfig())),t(i)}).then(function(e){return t(e)})}},{key:"resolveSymbol",value:function(t,e,s){var i=this;return new I.a(function(t,e){var s=i.defaultSymbol();i.self.getSymbol&&(s=S()(i.defaultSymbol(),i.self.getSymbol())),t(s)}).then(function(t){return e(t)}).catch(function(t){return s(t)})}},{key:"getBars",value:function(t,e,s,i,r,a){this.self.getBars(t,e,s,i,function(t){t&&t.length?r(t,{noData:!1}):r([],{noData:!0})})}},{key:"subscribeBars",value:function(t,e,s,i,r){this.barsUpdater.subscribeBars(t,e,s,i,r)}},{key:"unsubscribeBars",value:function(t){this.barsUpdater.unsubscribeBars(t)}},{key:"defaultConfiguration",value:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}},{key:"defaultSymbol",value:function(){return{name:this.self.$store.state.market.currentMarket,timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:this.self.$store.state.market.currentMarket,pricescale:1e7,ticker:this.self.$store.state.market.currentMarket,supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"]}}}]),t}(),N={data:function(){return{widget:null,datafeeds:new B(this),symbol:null,interval:5,cacheData:{},lastTime:null,getBarTimer:null,isLoading:!0,startTime:null,endTime:null,marketName:this.$store.state.market.currentMarket}},mounted:function(){this.$store.watch(function(t){return t.socket.isConnected},this.initConnection,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.onMessage,{deep:!0}),this.$store.watch(function(t){return t.market.currentMarket},this.onChangeTv,{deep:!0})},created:function(){},methods:{initConnection:function(){this.init()},onChangeTv:function(t){this.marketName=t,this.startTime=0,this.endTime=0,this.widget=null,this.init()},sendKlineQuery:function(t,e){if(!(Math.abs(this.startTime-t)<20&&Math.abs(this.endTime-e)<20)){this.startTime=t,this.endTime=e;var s=t||this.getTime()-60*this.interval*10,i=e||this.getTime();parseInt(s).toString().length<8&&(s*=1e3),parseInt(i).toString().length<8&&(i*=1e3),this.$socket.send(a()({method:"kline.query",params:[this.marketName,s,i,60*this.interval],id:this.$gP.KLINE_QUERY}))}},sendKlineSubscribe:function(){this.$socket.send(a()({method:"kline.subscribe",params:[this.marketName,60*this.interval],id:this.$gP.KLINE_SUBSCRIBE}))},unKlineSubscribe:function(){this.$socket.send(a()({method:"kline.unsubscribe",params:[],id:this.$gP.KLINE_UNSUBSCRIBE}))},onMessage:function(t){var e=JSON.parse(t);e.id==this.$gP.KLINE_QUERY&&(null==e.error?(this.klineDataUpdate(e.result),this.unKlineSubscribe(),this.sendKlineSubscribe()):(console.log("Can't get kline data from server:"+this.marketName),console.error(e.error.message+" Kline Data API"))),"kline.update"==e.method&&(this.klineDataUpdate(e.params),this.datafeeds.barsUpdater.updateData())},klineDataUpdate:function(t){var e=[];if(t){var s=this.marketName+"-"+this.interval;this.cacheData[s]?t.forEach(function(t){var i=this.cacheData[s][this.cacheData[s].length-1].time;if(t[0]>i&&t[7]==this.marketName){var r={time:1e3*t[0],open:Number(t[1]),close:Number(t[2]),high:Number(t[3]),low:Number(t[4]),volume:Number(t[5])};this.cacheData[s].push(r),e.push(r)}},this):(t.forEach(function(t){t[7]==this.marketName&&e.push({time:1e3*t[0],open:Number(t[1]),close:Number(t[2]),high:Number(t[3]),low:Number(t[4]),volume:Number(t[5])})},this),this.cacheData[s]=e),e.length>0&&(this.lastTime=e[e.length-1].time)}},init:function(){this.widget||(this.widget=new k.widget({symbol:this.marketName,interval:this.interval,container_id:"tv_container",datafeed:this.datafeeds,library_path:"./static/tradeview/charting_library/",disabled_features:["header_symbol_search"],enabled_features:[],timezone:"Asia/Shanghai",locale:"en",debug:!1}))},getBars:function(t,e,s,i,r){this.interval="1D"==e||"D"==e?1440:Number(e);var a=this.marketName+"-"+this.interval;if(this.cacheData[a]){this.isLoading=!1;var n=[];this.cacheData[a].forEach(function(t){t.time>=1e3*s&&t.time<=1e3*i&&n.push(t)}),r(n)}else{var o=this;this.sendKlineQuery(s,i),this.getBarTimer=setTimeout(function(){o.getBars(t,e,s,i,r)},500)}},getTime:function(){return parseInt(Date.now()/1e3)}}},$={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"tv_container"}})},staticRenderFns:[]},x=s("VU/8")(N,$,!1,null,null,null).exports,D={name:"PageLoading",components:{},props:{loadingDone:Boolean},data:function(){return{}},computed:{},mounted:function(){},methods:{}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loadingDone?e("div",{staticClass:"page-loading"},[e("img",{attrs:{src:s("zGP0")}})]):this._e()},staticRenderFns:[]};var R={name:"TradeItem",components:{PageLoading:s("VU/8")(D,O,!1,function(t){s("+rfO")},null,null).exports},props:{trade_price:String,trade_amount:String,trade_time:Number,trade_side:String},data:function(){return{time_offset:this.$store.state.time_offset}},computed:{},mounted:function(){},methods:{getTradeType:function(t){return{"c-green":"buy"==t||"2"==t,"c-red":"sell"==t||1==t}}},filters:{formatNumber:function(t){return l()(t).format("0,0.[00000000]")},formatTime:function(t){var e=new Date(1e3*t);return e=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{"aria-colindex":"1"}},[t._v("\n        "+t._s(t._f("formatTime")(t.trade_time-t.time_offset))+"\n    ")]),t._v(" "),s("td",{attrs:{"aria-colindex":"2"}},[s("div",{staticClass:"component-number",class:t.getTradeType(t.trade_side)},[s("span",[t._v(t._s(t.trade_price))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"3"}},[s("div",{staticClass:"component-number"},[s("span",[t._v(t._s(t.trade_amount))])])])])},staticRenderFns:[]};var L=s("VU/8")(R,U,!1,function(t){s("5t8L")},null,null).exports,H=s("mtWM"),F=s.n(H),V={name:"TradeDeal",components:{TradeItem:L},props:{},data:function(){return{isLogin:!1,trades:[],mineTrades:[],isMarketMode:!0,marketName:this.$store.state.market.currentMarket,baseCoin:this.$store.state.market.baseCoin,fiatCoin:this.$store.state.market.currentMarket.substr(0,this.$store.state.market.currentMarket.lastIndexOf(this.$store.state.market.baseCoin))}},created:function(){var t=this;this.$eventBus.$on("update-mine",function(e){console.log("updating mine trade history"),e.user==userID&&t.marketName==e.market&&(e.time=e.ctime,e.type=1==e.side?"sell":"buy",t.mineTrades.push(e))})},computed:{},mounted:function(){this.checkIsLogin(),this.getInitMineHistory(),this.$store.watch(function(t){return t.market.currentMarket},this.marketSelect,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0}),this.$store.watch(function(t){return t.socket.isConnected},this.sendDealQuery,{deep:!0})},methods:{sendDealSubscribe:function(){this.$store.state.socket.isConnected&&this.$socket.send(a()({method:"deals.subscribe",params:this.$gP.MarketPairs,id:this.$gP.DEAL_SUBSCRIBE}))},sendDealQuery:function(){var t=this.$store.state.trades;this.$store.state.socket.isConnected&&this.$socket.send(a()({method:"deals.query",params:[this.marketName,t.deals_limit,t.last_id],id:this.$gP.DEAL_QUERY}))},marketSelect:function(){var t=this.$store.state.market;this.marketName=t.currentMarket,this.baseCoin=t.baseCoin,this.fiatCoin=this.marketName.substr(0,this.marketName.lastIndexOf(this.baseCoin)),this.trades=[],this.mineTrades=[],this.getInitMineHistory(),this.sendDealQuery()},msgHandler:function(){var t=JSON.parse(this.$store.state.socket.message);t.id==this.$gP.DEAL_QUERY?null==t.error?(this.updateTradeDeals(t.result),this.unSubscribeDeals(),this.sendDealSubscribe()):(console.log("Deals API not working."),console.error(t.error.message)):"deals.update"==t.method&&t.params[0]==this.marketName&&this.updateTradeDeals(t.params[1])},unSubscribeDeals:function(){this.$store.state.socket.isConnected&&this.$socket.send(a()({method:"deals.unsubscribe",params:[],id:this.$gP.DEAL_UNSUBSCRIBE}))},updateTradeDeals:function(t){if(this.trades.length>0)for(var e=t.length-1;e>-1;e--){var s=this.trades[0];t[e].id>s.id&&this.trades.unshift(t[e])}else console.log("initializing trade history..."),this.trades=t},checkIsLogin:function(){""!=webToken&&""!=webSource&&null!=userID&&(this.isLogin=!0)},getInitMineHistory:function(){var t=this;if(this.isLogin){var e={cmd:"deals",market:this.marketName,user_id:userID,offset:0,limit:100};F.a.post(apiURL,e).then(function(e){var s=e.data;null==s.error&&s.result.records.length>0?t.mineTrades=s.result.records:(console.error(s.error),t.mineTrades=[])},function(e){console.log(e),t.mineTrades=[]})}}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"txu-latest-exec"}},[s("h3",{staticClass:"title"},[t._v("Latest Execution")]),t._v(" "),s("div",{staticClass:"deals-tabs"},[s("span",{staticClass:"tab-item cur-hand",class:{" active":t.isMarketMode},on:{click:function(e){t.isMarketMode=!0}}},[t._v("Market")]),t._v(" "),s("span",{staticClass:"tab-item cur-hand",class:{" active":!t.isMarketMode},on:{click:function(e){t.isMarketMode=!1}}},[t._v("Mine")])]),t._v(" "),s("div",{staticClass:"title-table-wrap"},[s("table",{staticClass:"table b-table",attrs:{"aria-busy":"false","aria-colcount":"3"}},[s("thead",[s("tr",[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Price("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Amount("+t._s(t.fiatCoin)+")")])])]),t._v(" "),s("tbody")])]),t._v(" "),s("div",{staticClass:"free-table-wrap",class:{"hide-elem":!t.isMarketMode}},[s("table",{staticClass:"table b-table",attrs:{"aria-busy":"false","aria-colcount":"3"}},[s("thead",[s("tr",[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Price("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Amount("+t._s(t.fiatCoin)+")")])])]),t._v(" "),s("tbody",t._l(t.trades,function(t){return s("TradeItem",{key:t.time,attrs:{trade_time:t.time,trade_side:t.type,trade_price:t.price,trade_amount:t.amount}})}))])]),t._v(" "),s("div",{staticClass:"auth-table-wrap",class:{"hide-elem":t.isMarketMode}},[s("table",{staticClass:"table b-table",attrs:{"aria-busy":"false","aria-colcount":"3"}},[s("thead",{},[s("tr",[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Price("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Amount("+t._s(t.fiatCoin)+")")])])]),t._v(" "),s("tbody",t._l(t.mineTrades,function(t){return s("TradeItem",{key:t.time,attrs:{trade_time:t.time,trade_side:t.side,trade_price:t.price,trade_amount:t.amount}})}))])])])},staticRenderFns:[]};var Y=s("VU/8")(V,W,!1,function(t){s("ryll")},"data-v-0b8ee433",null).exports,j={name:"TradeDepth",components:{},props:{},data:function(){return{selected:8,mergeOptions:[{label:"1 decimal",value:1},{label:"2 decimal",value:2},{label:"3 decimal",value:3},{label:"4 decimal",value:4},{label:"5 decimal",value:5},{label:"6 decimal",value:6},{label:"7 decimal",value:7},{label:"8 decimal",value:8}],curMarketPrice:this.$store.state.market.curMarketPrice,percentSign:this.$store.state.market.percentSign,baseCoin:this.$store.state.market.baseCoin,fiatCoin:this.$store.state.market.fiatCoin,singleMode:!1,askDnmode:!1,bidDnmode:!1,marketName:this.$store.state.market.currentMarket,marketOrderNo:this.$gP.MarketPairs.indexOf(this.$store.state.market.currentMarket),mergeRange:"0.00000001",asks:[],srcAsks:[],bids:[],srcBids:[]}},computed:{},mounted:function(){this.$store.watch(function(t){return t.socket.isConnected},this.sendAcquireDepth,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0}),this.$store.watch(function(t){return t.market.currentMarket},this.changeTradeDepth,{deep:!0}),this.$store.watch(function(t){return t.market.curMarketPrice},this.changePriceTicker,{deep:!0}),this.onShowAskBid()},methods:{sendAcquireDepth:function(){this.asks=[],this.bids=[],this.$socket.send(a()({method:"depth.query",params:[this.marketName,20,this.mergeRange],id:this.$gP.DEPTH_QUERY+this.marketOrderNo}))},sendScribeDepth:function(){this.$socket.send(a()({method:"depth.subscribe",params:[this.marketName,20,this.mergeRange],id:this.$gP.DEPTH_SUBSCRIBE}))},sendUnSubScribeDepth:function(){this.$socket.send(a()({method:"depth.unsubscribe",params:[],id:this.$gP.DEPTH_UNSUBSCRIBE}))},msgHandler:function(t){var e=JSON.parse(t);e.id==this.$gP.DEPTH_QUERY+this.marketOrderNo?null==e.error?(this.changeOrderDepth(e.result.asks,e.result.bids,!0),this.sendScribeDepth()):(console.log("Can't get Order Depth Data."),console.error(e.error.message)):"depth.update"==e.method&&e.params[2]==this.marketName&&(e.params[0]?this.changeOrderDepth(e.params[1].asks,e.params[1].bids,!0):this.changeOrderDepth(e.params[1].asks,e.params[1].bids,!1))},changeOrderDepth:function(t,e,s){s?(void 0!==t&&(this.srcAsks=t),void 0!==e&&(this.srcBids=e)):(void 0!==t&&(this.srcAsks=this.srcAsks.concat(t)),void 0!==e&&(this.srcBids=this.srcBids.concat(e))),this.srcAsks.sort(this.myCompare),this.srcBids.sort(this.myCompare);var i=-1/0,r=-1/0,n=0,o=0;this.srcAsks=this.myArrayMerge(this.srcAsks),this.srcBids=this.myArrayMerge(this.srcBids),this.asks=JSON.parse(a()(this.srcAsks)),this.bids=JSON.parse(a()(this.srcBids)),this.srcAsks.forEach(function(t,e){n+=Number(t[1]),this.asks[e].push(n),i<Number(t[1])&&(i=Number(t[1]))},this),this.asks.forEach(function(t,e){n>0?(console.log(Number(t[2])),console.log(100*Number(t[2])/n),this.asks[e].push(100*Number(t[2])/n)):this.asks[e].push(0)},this),this.srcBids.forEach(function(t,e){o+=Number(t[1]),this.bids[e].push(o),r<Number(t[1])&&(r=Number(t[1]))},this),this.bids.forEach(function(t,e){o>0?this.bids[e].push(100*Number(t[2])/o):this.bids[e].push(0)},this),this.asks.sort(this.myCompareInv)},myCompare:function(t,e){return Number(t[0])<Number(e[0])?-1:Number(t[0])>Number(e[0])?1:0},myCompareInv:function(t,e){return Number(t[0])>Number(e[0])?-1:Number(t[0])<Number(e[0])?1:0},myArrayMerge:function(t){for(var e={},s=[],i=JSON.parse(a()(t)),r=0;r<i.length;r++){var n=i[r][0];e.hasOwnProperty(n)?e[n][1]=Number(e[n][1])+Number(i[r][1]):e[n]=i[r]}for(var o in e)s.push(e[o]);return s},onSelectMerge:function(){this.mergeRange=parseFloat(1/Math.pow(10,this.selected)).toFixed(this.selected),this.sendUnSubScribeDepth(),this.sendAcquireDepth()},changeTradeDepth:function(t){var e=this.$store.state.market;this.baseCoin=e.baseCoin,this.fiatCoin=e.fiatCoin,this.marketName=t,this.marketOrderNo=this.$gP.MarketPairs.indexOf(t),this.sendUnSubScribeDepth(),this.sendAcquireDepth()},changePriceTicker:function(){this.curMarketPrice=this.$store.state.market.curMarketPrice,this.percentSign=this.$store.state.market.percentSign},onShowAskDepth:function(){this.singleMode=!0,this.askDnmode=!1,this.bidDnmode=!0},onShowBidDepth:function(){this.singleMode=!0,this.askDnmode=!0,this.bidDnmode=!1},onShowAskBid:function(){this.singleMode=!1,this.askDnmode=!1,this.bidDnmode=!1},selectMarketPrice:function(t){this.$eventBus.$emit("select-price",t)}},filters:{formatAmount:function(t){return l()(t).format("0.[0000]")},formatPercent:function(t){return l()(t).format("0.[0000]")},formatTotalAmount:function(t){return l()(t).format("0.[0000]")},formatPriceTicker:function(t){return l()(t).format("0,0.[00000000]")}}},Z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-trade-depth"},[s("div",{staticClass:"merge-section"},[s("div",{staticClass:"depth-type"},[s("span",{staticClass:"ask",on:{click:function(e){t.onShowAskDepth()}}}),t._v(" "),s("span",{staticClass:"bid",on:{click:function(e){t.onShowBidDepth()}}}),t._v(" "),s("span",{staticClass:"all",on:{click:function(e){t.onShowAskBid()}}})]),t._v(" "),s("div",{staticClass:"merge-option"},[s("span",{staticClass:"name"},[t._v("Merge: ")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",attrs:{id:"depth-merge-select"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]},function(e){t.onSelectMerge()}]}},t._l(t.mergeOptions,function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])}))])]),t._v(" "),s("table",{staticClass:"title-depth-section table b-table",attrs:{"aria-busy":"false","aria-colcount":"3"}},[s("thead",[s("tr",[s("th",{staticClass:"title-th abc",attrs:{"aria-colindex":"1"}},[t._v("Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{staticClass:"title-th",attrs:{"aria-colindex":"2"}},[t._v("Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{staticClass:"title-th",attrs:{"aria-colindex":"3"}},[t._v("Total("+t._s(t.fiatCoin)+")")])])]),t._v(" "),s("tbody")]),t._v(" "),s("div",{staticClass:"depth-section",class:{multi:!t.singleMode,single:t.singleMode}},[s("div",{staticClass:"depths-wrap",class:{"dn-table":t.askDnmode}},[s("table",{staticClass:"ask-table table b-table",attrs:{"aria-busy":"false","aria-colcount":"4"}},[t._m(0),t._v(" "),s("tbody",t._l(t.asks,function(e){return Number(e[1])>0?s("tr",{on:{click:function(s){t.selectMarketPrice(e[0])}}},[s("td",{attrs:{"aria-colindex":"1"}},[s("div",{staticClass:"component-number"},[s("span",[t._v(t._s(e[0]))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"2"}},[s("div",{staticClass:"component-number"},[s("span",[t._v(t._s(t._f("formatAmount")(e[1])))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"3"}},[s("div",{staticClass:"component-number"},[s("span",{staticClass:"holder"},[t._v("0")]),s("span",[t._v(t._s(t._f("formatTotalAmount")(e[2])))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"4"}},[s("div",{staticClass:"percent ask",style:{width:e[3]+"%"}})])]):t._e()}))])]),t._v(" "),s("div",{staticClass:"lastprice-wrap",class:{up:t.percentSign>=0,down:t.percentSign<0}},[s("span",{staticClass:"lastprice cur-hand"},[t._v(t._s(t._f("formatPriceTicker")(t.curMarketPrice)))]),t._v(" "),s("i",{staticClass:"fa",class:{"fa-arrow-up":t.percentSign>=0,"fa-arrow-down":t.percentSign<0}}),t._v(" "),s("span",{staticClass:"legal",staticStyle:{display:"none"}},[t._v("≈ 0.0052 USD")])]),t._v(" "),s("div",{staticClass:"depths-wrap",class:{"dn-table":t.bidDnmode}},[s("div",{staticClass:"depths-wrap-inner"},[s("table",{staticClass:"bid-table table b-table",attrs:{"aria-busy":"false","aria-colcount":"4"}},[t._m(1),t._v(" "),s("tbody",t._l(t.bids,function(e){return Number(e[1])>0?s("tr",{on:{click:function(s){t.selectMarketPrice(e[0])}}},[s("td",{attrs:{"aria-colindex":"1"}},[s("div",{staticClass:"component-number"},[s("span",[t._v(t._s(e[0]))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"2"}},[s("div",{staticClass:"component-number"},[s("span",[t._v(t._s(t._f("formatAmount")(e[1])))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"3"}},[s("div",{staticClass:"component-number"},[s("span",{staticClass:"holder"},[t._v("0")]),s("span",[t._v(t._s(t._f("formatTotalAmount")(e[2])))])])]),t._v(" "),s("td",{attrs:{"aria-colindex":"4"}},[s("div",{staticClass:"percent bid",style:{width:e[3]+"%"}})])]):t._e()}))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{visibility:"collapse"}},[e("th",{attrs:{"aria-colindex":"1"}},[this._v("0")]),this._v(" "),e("th",{attrs:{"aria-colindex":"2"}},[this._v("1")]),this._v(" "),e("th",{attrs:{"aria-colindex":"3"}},[this._v("2")]),this._v(" "),e("th",{attrs:{"aria-colindex":"4"}},[this._v("3")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{visibility:"collapse"}},[e("th",{attrs:{"aria-colindex":"1"}},[this._v("0")]),this._v(" "),e("th",{attrs:{"aria-colindex":"2"}},[this._v("1")]),this._v(" "),e("th",{attrs:{"aria-colindex":"3"}},[this._v("2")]),this._v(" "),e("th",{attrs:{"aria-colindex":"4"}},[this._v("3")])])])}]};var Q=s("VU/8")(j,Z,!1,function(t){s("c4dT")},"data-v-af445e58",null).exports,z=s("fZjL"),X=s.n(z),G=s("GDE4"),K=s.n(G),J={piecewiseStyle:{backgroundColor:"#ccc",visibility:"visible",width:"12px",height:"12px"},piecewiseActiveStyleBuy:{backgroundColor:"#00b275"},piecewiseActiveStyleSell:{backgroundColor:"#e45555"},labelActiveStyle:{color:"#00b275"},processStyleBuy:{backgroundColor:"#00b275"},processStyleSell:{backgroundColor:"#e45555"},data:["0%","25%","50%","75%","100%"],sliderStyleSell:[{backgroundColor:"#00b275"},{backgroundColor:"#f05b72"}],sliderStyleBuy:[{backgroundColor:"#f05b72"},{backgroundColor:"#00b275"}]},q=s("5dBV"),tt=s.n(q),et={name:"OrderFormInput",components:{},props:{label_holder:String,coin_holder:String,trade_type:String,value_step:Number,market_type:String,err_msg:String,is_err:Boolean},data:function(){return{is_selected:!1,time_offset:this.$store.state.time_offset,value:""}},created:function(){var t=this;this.$eventBus.$on("select-price",function(e){"Price"==t.label_holder&&(t.value=e)}),this.$eventBus.$on("change-market-mode",function(e){"Amount"==t.label_holder&&(t.value="")}),this.$eventBus.$on("change-value-percent",function(e){e.market_type==t.market_type&&e.trade_type==t.trade_type&&e.value_type==t.label_holder&&(t.value=e.value.toFixed(8))})},computed:{},mounted:function(){this.$store.watch(function(t){return t.market.curMarketPrice},this.changePriceTicker,{deep:!0})},methods:{incValue:function(){isNaN(this.value)?console.log("Please Input only Numbers"):(this.value=Number(this.value)+this.value_step,this.value=tt()(this.value).toFixed(8))},decValue:function(){isNaN(this.value)?console.log("Please Input only Numbers"):(this.value=Number(this.value)-this.value_step,0!=this.value&&(this.value=tt()(this.value).toFixed(8)))},changePriceTicker:function(t){"Price"==this.label_holder&&(this.value=t)},selectInputForm:function(){this.is_selected=!0},unSelectInputForm:function(){this.is_selected=!1}},watch:{value:function(){if(0==this.value.toString().trim().length&&(this.value=""),isNaN(this.value))this.value="";else if(Number(this.value)<0)this.value="";else{var t={market_type:this.market_type,trade_type:this.trade_type,value_type:this.label_holder,value:this.value};this.$eventBus.$emit("change-trade-info",t)}}},filters:{formatNumber:function(t){return l()(t).format("0,0.[00000000]")},formatTime:function(t){var e=new Date(1e3*t);return e=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-placeorder-input"},[s("div",{staticClass:"input-warp",class:{error:t.is_err,focus:t.is_selected}},[s("label",{staticClass:"number"},[s("div",{staticClass:"name-wrap"},[s("span",{staticClass:"name"},[t._v(t._s(t.label_holder))]),t._v(" "),s("span",{staticClass:"coin"},[t._v(t._s(t.coin_holder))])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.value},on:{focus:function(e){t.selectInputForm()},blur:function(e){t.unSelectInputForm()},input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"control"},[s("div",{staticClass:"plus",on:{click:function(e){t.incValue()}}},[t._v("+")]),t._v(" "),s("div",{staticClass:"minus",on:{click:function(e){t.decValue()}}},[t._v("-")])])]),t._v(" "),s("div",{directives:[{name:"visible",rawName:"v-visible",value:t.is_err,expression:"is_err"}],staticClass:"tip-wrap"},[s("p",{staticClass:"tip",class:{error:t.is_err}},[t._v(t._s(t.err_msg))]),t._v(" "),s("p",{staticClass:"legal",staticStyle:{display:"none"}},[t._v(" ≈ 5.6 USD")])])])},staticRenderFns:[]};var it=s("VU/8")(et,st,!1,function(t){s("lHdD")},"data-v-17358d22",null).exports,rt={name:"BuySell",components:{"vue-slider":K.a,OrderFormInput:it,PageLoading:D},props:{},data:function(){return{isLimitMode:!0,buy_value_limit:"0%",buy_value_market:"0%",sell_value_limit:"0%",sell_value_market:"0%",sl_ops:J,sl_ops_market:J,baseCoin:this.$store.state.market.baseCoin,fiatCoin:this.$store.state.market.fiatCoin,marketName:this.$store.state.market.currentMarket,baseCoinAmount:0,fiatCoinAmount:0,asstInfo:{},isLogin:!1,currentTrans:[],buyPrice:0,buyAmount:0,buyEstValue:0,buyPriceErr:!1,buyAmountErr:!1,buyPriceErrMsg:"",buyAmountErrMsg:"",sellPrice:0,sellAmount:0,sellEstValue:0,sellPriceErr:!1,sellAmountErr:!1,sellPriceErrMsg:"",sellAmountErrMsg:"",marketBuyAmount:0,marketSellAmount:0,marketBuyErr:!1,marketBuyErrMsg:"",marketSellErr:!1,marketSellErrMsg:"",isEnableBuyBtn:!1,isEnableSellBtn:!1,tradeErrTitle:"This is Error Message!",tradeErrMsg:"You will not be able to do..",tradeSuccessTitle:"",tradeSuccessMsg:"",marketBuyPrice:0,showAjaxProgress:!1}},created:function(){var t=this;this.$eventBus.$on("update-user-balance",function(e){e.user==userID&&(console.log("We will update user's balance information"),1==e.side?(t.asstInfo[t.fiatCoin]=Number(t.asstInfo[t.fiatCoin])+Number(e.amount),t.fiatCoinAmount=Number(t.fiatCoinAmount)+Number(t.amount)):(t.asstInfo[t.baseCoin]=Number(t.asstInfo[t.baseCoin])+Number(e.amount),t.baCoinAmount=Number(t.baCoinAmount)+Number(t.amount)))}),this.$eventBus.$on("select-price",function(e){"Price"==t.label_holder&&(t.marketBuyPrice=Number(e))}),this.$eventBus.$on("change-trade-info",function(e){"limit"==e.market_type?("buy"==e.trade_type&&("Price"==e.value_type&&(t.buyPrice=Number(e.value),0==t.buyPrice?(t.buyPriceErr=!0,t.buyPriceErrMsg="Price should be larger than 0"):(t.buyPriceErr=!1,t.buyPriceErrMsg="")),"Amount"==e.value_type&&(t.buyAmount=Number(e.value)),t.buyEstValue=Number(t.buyPrice*t.buyAmount).toFixed(8),t.baseCoinAmount<t.buyEstValue?(t.buyAmountErr=!0,t.buyAmountErrMsg="Insufficient balance"):(t.buyAmountErr=!1,t.buyAmountErrMsg="")),"sell"==e.trade_type&&("Price"==e.value_type&&(t.sellPrice=Number(e.value),0==t.sellPrice?(t.sellPriceErr=!0,t.sellPriceErrMsg="Price should be larger than 0"):(t.sellPriceErr=!1,t.sellPriceErrMsg="")),"Amount"==e.value_type&&(t.sellAmount=Number(e.value),t.sellAmount>t.fiatCoinAmount?(t.sellAmountErr=!0,t.sellAmountErrMsg="Insufficient balance"):(t.sellAmountErr=!1,t.sellAmountErrMsg="")),t.sellEstValue=Number(t.sellPrice*t.sellAmount).toFixed(8))):("Value"==e.value_type&&(t.marketBuyAmount=Number(e.value),t.marketBuyAmount>t.baseCoinAmount?(t.marketBuyErr=!0,t.marketBuyErrMsg="Insufficient balance"):(t.marketBuyErr=!1,t.marketBuyErrMsg="")),"Amount"==e.value_type&&(t.marketSellAmount=Number(e.value),t.marketSellAmount>t.fiatCoinAmount?(t.marketSellErr=!0,t.marketSellErrMsg="Insufficient balance"):(t.marketSellErr=!1,t.marketSellErrMsg=""))),t.getCheckTradesBtn()})},computed:{},mounted:function(){this.checkIsLogin(),this.$store.watch(function(t){return t.socket.isConnected},this.getCurrentAsset,{deep:!0}),this.$store.watch(function(t){return t.market.currentMarket},this.marketSelect,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0})},methods:{initFormFields:function(){this.buyAmount=0,this.buyEstValue=0,this.buyPriceErr=!1,this.buyAmountErr=!1,this.buyPriceErrMsg="",this.buyAmountErrMsg="",this.sellAmount=0,this.sellEstValue=0,this.sellPriceErr=!1,this.sellAmountErr=!1,this.sellPriceErrMsg="",this.sellAmountErrMsg="",this.isEnableSellBtn=!1,this.isEnableBuyBtn=!1},getCurrentAsset:function(){this.currentTrans.push(this.$gP.ASSET_QUERY),this.sendIDVerificationWeb()},marketSelect:function(){this.baseCoin=this.$store.state.market.baseCoin,this.fiatCoin=this.$store.state.market.fiatCoin,this.baseCoinAmount=0,this.fiatCoinAmount=0,this.marketBuyPrice=this.$store.state.market.curMarketPrice,this.marketName=this.$store.state.market.currentMarket,this.currentTrans=[],this.initFormFields(),this.getAvailableAssetsCallback(),this.getCheckTradesBtn()},onChangeMarketMode:function(t){this.isLimitMode=t,this.initFormFields(),this.getCheckTradesBtn(),this.$eventBus.$emit("change-market-mode","change-market")},changeSliderBuyLimit:function(){var t=Number(this.buy_value_limit.split("%")[0]);if(this.buyEstValue=this.baseCoinAmount*t/100,0!=this.buyPrice&&!isNaN(this.buyPrice)){var e={market_type:"limit",trade_type:"buy",value_type:"Amount",value:this.buyEstValue/this.buyPrice};this.$eventBus.$emit("change-value-percent",e)}},changeSliderSellLimit:function(){var t=Number(this.sell_value_limit.split("%")[0]);if(0!=this.sellPrice&&!isNaN(this.sellPrice)){var e={market_type:"limit",trade_type:"sell",value_type:"Amount",value:this.fiatCoinAmount*t/100};this.$eventBus.$emit("change-value-percent",e)}},changeSliderBuyMarket:function(){var t=Number(this.buy_value_market.split("%")[0]),e={market_type:"market",trade_type:"buy",value_type:"Value",value:this.baseCoinAmount*t/100};this.$eventBus.$emit("change-value-percent",e)},changeSliderSellMarket:function(){var t=Number(this.sell_value_market.split("%")[0]),e={market_type:"market",trade_type:"sell",value_type:"Amount",value:this.fiatCoinAmount*t/100};this.$eventBus.$emit("change-value-percent",e)},sendIDVerificationWeb:function(){this.$socket.send(a()({method:"server.auth",params:[webToken,webSource],id:this.$gP.ID_VERIFICATION_WEB}))},sendAssetQuery:function(){this.$socket.send(a()({method:"asset.query",params:[],id:this.$gP.ASSET_QUERY}))},sendAssetHistory:function(){this.$socket.send(a()({method:"asset.history",params:[this.baseCoin,",",0,0,0,100],id:this.$gP.ASSET_HISTORY}))},sendAssetSubScribe:function(){this.$socket.send(a()({method:"asset.subscribe",params:X()(this.asstInfo),id:this.$gP.ASSET_SUBSCRIBE}))},sendAssetUnSubScribe:function(){this.$socket.send(a()({method:"asset.unsubscribe",params:[this.baseCoin],id:this.$gP.ASSET_HISTORY}))},checkIsLogin:function(){""!=webToken&&""!=webSource&&null!=userID&&(this.isLogin=!0)},msgHandler:function(){var t=JSON.parse(this.$store.state.socket.message);if(t.id==this.$gP.ID_VERIFICATION_WEB)this.dealTransactions(t);else if(t.id==this.$gP.ASSET_QUERY){for(var e in t.result)t.result.hasOwnProperty(e)&&(this.asstInfo[e]=Number(t.result[e].available));this.getAvailableAssetsCallback(),this.removeTransInfo(this.$gP.ASSET_QUERY),this.currentTrans.push(this.$gP.ASSET_SUBSCRIBE),this.sendIDVerificationWeb()}else if(t.id==this.$gP.ASSET_SUBSCRIBE)null==t.error&&"success"==t.result.status&&(console.log("Removing Asset SubScribe Request From Transaction List"),console.log(this.currentTrans),console.log("Removed Transaction ID:==============>"+this.$gP.ASSET_SUBSCRIBE),this.removeTransInfo(this.$gP.ASSET_SUBSCRIBE));else if("asset.update"==t.method)for(var s=0;s<t.params.length;s++)for(var i=t.params[s],r=X()(i),a=0;a<r.length;a++)console.error("Updating Asset Information:========>"+r[a]),i.hasOwnProperty(r[a])&&(this.asstInfo[r[a]]=Number(i[r[a]].available),r[a]==this.baseCoin&&(this.baseCoinAmount=Number(i[r[a]].available)),r[a]==this.fiatCoin&&(this.fiatCoinAmount=Number(i[r[a]].available)))},dealTransactions:function(t){if(null==t.error&&"success"==t.result.status&&this.currentTrans.length>0){var e=this.currentTrans[0];e==this.$gP.ASSET_QUERY?this.sendAssetQuery():e==this.$gP.ASSET_SUBSCRIBE&&this.sendAssetSubScribe()}},removeTransInfo:function(t){if(this.currentTrans.length>0){var e=this.currentTrans.indexOf(t);e>-1&&this.currentTrans.splice(e,1)}},getAvailableAssetsCallback:function(){this.asstInfo.hasOwnProperty(this.baseCoin)&&(this.baseCoinAmount=Number(this.asstInfo[this.baseCoin])),this.asstInfo.hasOwnProperty(this.fiatCoin)&&(this.fiatCoinAmount=Number(this.asstInfo[this.fiatCoin]))},getLimitBuyValidationStatus:function(){this.isEnableBuyBtn=this.baseCoinAmount>0&&!this.buyPriceErr&&!this.buyAmountErr&&this.buyPrice>0&&this.buyAmount>0&&this.buyEstValue>0},getLimitSellValidationStatus:function(){this.isEnableSellBtn=this.fiatCoinAmount>0&&!this.sellPriceErr&&!this.sellAmountErr&&this.sellPrice>0&&this.sellAmount>0&&this.sellEstValue>0},getMarketBuyValidationStatus:function(){this.isEnableBuyBtn=this.baseCoinAmount>0&&!this.marketBuyErr&&this.marketBuyAmount>0&&this.marketBuyPrice>0},getMarketSellValidationStatus:function(){this.isEnableSellBtn=this.fiatCoinAmount>0&&!this.marketSellErr&&this.marketSellAmount>0},getCheckTradesBtn:function(){this.isLogin?this.isLimitMode?(this.getLimitBuyValidationStatus(),this.getLimitSellValidationStatus()):(this.getMarketBuyValidationStatus(),this.getMarketSellValidationStatus()):(this.isEnableBuyBtn=!1,this.isEnableSellBtn=!1)},sendLimitBuyRequest:function(){var t=this;if(this.isLogin&&(this.getLimitBuyValidationStatus(),this.isEnableBuyBtn)){this.showAjaxProgress=!0;var e={cmd:"limit",market:this.marketName,user_id:userID,side:2,amount:this.buyAmount,price:this.buyPrice};F.a.post(apiURL,e).then(function(e){var s=e.data;null==s.error&&s.result.user==userID?(t.asstInfo[s.result.market]=Number(t.asstInfo[s.result.market])-Number(s.result.amount),t.baseCoinAmount=Number(t.baseCoinAmount)-Number(s.result.amount),t.buyAmount=0,t.$refs.buySliderLimit.setValue("0%"),t.$eventBus.$emit("update-current-order",s.result),t.tradeSuccessTitle="Congratulation!",t.tradeSuccessMsg="Your order has done successfully!",t.$modal.show("success-msg-modal")):(t.tradeErrTitle="Something went wrong!",t.tradeErrMsg=s.error.message,t.$modal.show("error-msg-modal")),t.showAjaxProgress=!1},function(e){t.showAjaxProgress=!1,t.tradeErrTitle=e.message,t.tradeErrMsg="Please check your network!",t.$modal.show("error-msg-modal")})}},sendLimitSellRequest:function(){var t=this;if(this.isLogin&&(this.getLimitSellValidationStatus(),this.isEnableSellBtn)){this.showAjaxProgress=!0;var e={cmd:"limit",market:this.marketName,user_id:userID,side:1,amount:this.sellAmount,price:this.sellPrice};F.a.post(apiURL,e).then(function(e){var s=e.data;null==s.error&&s.result.user==userID?(t.asstInfo[s.result.market]=Number(t.asstInfo[s.result.market])-Number(s.result.amount),t.fiatCoinAmount=Number(t.fiatCoinAmount)-Number(s.result.amount),t.sellAmount=0,t.$eventBus.$emit("update-current-order",s.result),t.tradeSuccessTitle="Congratulation!",t.tradeSuccessMsg="Your order has done successfully!",t.$modal.show("success-msg-modal")):(t.tradeErrTitle="Something went wrong!",t.tradeErrMsg=s.error.message,t.$modal.show("error-msg-modal")),t.showAjaxProgress=!1},function(e){t.showAjaxProgress=!1,t.tradeErrTitle=e.message,t.tradeErrMsg="Please check your network!",t.$modal.show("error-msg-modal")})}},sendMarketBuyRequest:function(){var t=this;if(this.isLogin&&(this.getMarketBuyValidationStatus(),this.isEnableBuyBtn)){this.showAjaxProgress=!0;var e={cmd:"market",market:this.marketName,user_id:userID,side:2,amount:this.marketBuyAmount,price:this.marketBuyPrice};F.a.post(apiURL,e).then(function(e){var s=e.data;null==s.error&&s.result.user==userID?(t.asstInfo[s.result.market]=Number(t.asstInfo[s.result.market])-Number(s.result.amount),t.baseCoinAmount=Number(t.baseCoinAmount)-Number(s.result.amount),t.marketBuyAmount=0,t.$refs.buySliderMarket.setValue("0%"),t.$eventBus.$emit("update-current-order",s.result),t.tradeSuccessTitle="Congratulation!",t.tradeSuccessMsg="Your order has done successfully!",t.$modal.show("success-msg-modal")):(t.tradeErrTitle="Something went wrong!",t.tradeErrMsg=s.error.message,t.$modal.show("error-msg-modal")),t.showAjaxProgress=!1},function(e){t.showAjaxProgress=!1,t.tradeErrTitle=e.message,t.tradeErrMsg="Please check your network!",t.$modal.show("error-msg-modal")})}},sendMarketSellRequest:function(){var t=this;if(this.isLogin&&(this.getMarketSellValidationStatus(),this.isEnableSellBtn)){this.showAjaxProgress=!0;var e={cmd:"market",market:this.marketName,user_id:userID,side:1,amount:this.marketSellAmount,price:this.marketBuyPrice};F.a.post(apiURL,e).then(function(e){var s=e.data;null==s.error&&s.result.user==userID?(t.asstInfo[s.result.market]=Number(t.asstInfo[s.result.market])-Number(s.result.amount),t.fiatCoinAmount=Number(t.fiatCoinAmount)-Number(s.result.amount),t.marketSellAmount=0,t.$refs.sellSliderMarket.setValue("0%"),t.$eventBus.$emit("update-current-order",s.result),t.tradeSuccessTitle="Congratulation!",t.tradeSuccessMsg="Your order has done successfully!",t.$modal.show("success-msg-modal")):(t.tradeErrTitle="Something went wrong!",t.tradeErrMsg=s.error.message,t.$modal.show("error-msg-modal")),t.showAjaxProgress=!1},function(e){t.showAjaxProgress=!1,t.tradeErrTitle=e.message,t.tradeErrMsg="Please check your network!",t.$modal.show("error-msg-modal")})}}},filters:{formatNumber:function(t){return l()(t).format("0,0.[00000000]")}}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"limit-market"}},[s("PageLoading",{attrs:{loadingDone:t.showAjaxProgress}}),t._v(" "),s("div",{staticClass:"trade-section"},[s("div",{staticClass:"trade-tabs"},[t._m(0),t._v(" "),s("div",{staticClass:"tab-wrap"},[s("span",{staticClass:"tab-item cur-hand",class:{active:t.isLimitMode},on:{click:function(e){t.onChangeMarketMode(!0)}}},[t._v("Limit")]),t._v(" "),s("span",{staticClass:"tab-item cur-hand",class:{active:!t.isLimitMode},on:{click:function(e){t.onChangeMarketMode(!1)}}},[t._v("Market")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLimitMode,expression:"isLimitMode"}],staticClass:"trade-placeorder"},[s("div",{staticClass:"component-placeorder-limit"},[s("div",{staticClass:"component-placeorder-available"},[s("div",[s("span",[t._v("Available: ")]),t._v(" "),s("span",{staticClass:"cur-hand"},[t._v(t._s(this.baseCoinAmount)+" "+t._s(this.baseCoin))])]),t._v(" "),t._m(1)]),t._v(" "),s("OrderFormInput",{attrs:{label_holder:"Price",coin_holder:t.baseCoin,value_step:1e-8,trade_type:"buy",market_type:"limit",is_err:t.buyPriceErr,err_msg:t.buyPriceErrMsg}}),t._v(" "),s("OrderFormInput",{ref:"buyFiatCoin",attrs:{label_holder:"Amount",coin_holder:t.fiatCoin,value_step:1e-8,market_type:"limit",trade_type:"buy",is_err:t.buyAmountErr,err_msg:t.buyAmountErrMsg}}),t._v(" "),s("div",{staticClass:"efficient-percent"},[s("vue-slider",{ref:"buySliderLimit",attrs:{disabled:t.baseCoinAmount<=0,data:t.sl_ops.data,height:2,"slider-style":t.sl_ops.sliderStyleBuy,"process-style":t.sl_ops.processStyleBuy,tooltip:!1,piecewise:!0,piecewiseLabel:!0,"piecewise-style":t.sl_ops.piecewiseStyle,"piecewise-active-style":t.sl_ops.piecewiseActiveStyleBuy},on:{callback:t.changeSliderBuyLimit},model:{value:t.buy_value_limit,callback:function(e){t.buy_value_limit=e},expression:"buy_value_limit"}})],1),t._v(" "),s("div",{staticClass:"estimate-wrap"},[s("span",{staticClass:"name"},[t._v("EST. Value: ")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t._f("formatNumber")(t.buyEstValue))+" "+t._s(t.baseCoin))])]),t._v(" "),s("div",{staticClass:"submit-wrap"},[s("button",{staticClass:"btn-sm btn btn-green",class:{unclickable:!t.isEnableBuyBtn},staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.sendLimitBuyRequest}},[t._v("\n                      Buy "+t._s(t.fiatCoin)+"\n                    ")])])],1),t._v(" "),s("div",{staticClass:"component-placeorder-limit"},[s("div",{staticClass:"component-placeorder-available"},[s("div",[s("span",[t._v("Available: ")]),t._v(" "),s("span",{staticClass:"cur-hand"},[t._v(t._s(this.fiatCoinAmount)+" "+t._s(this.fiatCoin))])]),t._v(" "),t._m(2)]),t._v(" "),s("OrderFormInput",{attrs:{label_holder:"Price",coin_holder:t.baseCoin,value_step:1e-8,trade_type:"sell",market_type:"limit",is_err:t.sellPriceErr,err_msg:t.sellPriceErrMsg}}),t._v(" "),s("OrderFormInput",{attrs:{label_holder:"Amount",coin_holder:t.fiatCoin,value_step:1e-8,market_type:"limit",trade_type:"sell",is_err:t.sellAmountErr,err_msg:t.sellAmountErrMsg}}),t._v(" "),s("div",{staticClass:"efficient-percent"},[s("vue-slider",{ref:"sellSliderLimit",attrs:{"slider-style":t.sl_ops.sliderStyleSell,data:t.sl_ops.data,disabled:t.fiatCoinAmount<=0,height:2,"process-style":t.sl_ops.processStyleSell,tooltip:!1,piecewise:!0,piecewiseLabel:!0,"piecewise-style":t.sl_ops.piecewiseStyle,"piecewise-active-style":t.sl_ops.piecewiseActiveStyleSell},on:{callback:t.changeSliderSellLimit},model:{value:t.sell_value_limit,callback:function(e){t.sell_value_limit=e},expression:"sell_value_limit"}})],1),t._v(" "),s("div",{staticClass:"estimate-wrap"},[s("span",{staticClass:"name"},[t._v("EST. Value: ")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t._f("formatNumber")(t.sellEstValue))+" "+t._s(t.baseCoin))])]),t._v(" "),s("div",{staticClass:"submit-wrap"},[s("button",{staticClass:"btn-sm btn btn-red",class:{unclickable:!t.isEnableSellBtn},staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.sendLimitSellRequest}},[t._v("Sell "+t._s(t.fiatCoin))])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLimitMode,expression:"!isLimitMode"}],staticClass:"trade-placeorder"},[s("div",{staticClass:"component-placeorder-market"},[s("div",{staticClass:"component-placeorder-available"},[s("div",[s("span",[t._v("Available: ")]),t._v(" "),s("span",{staticClass:"cur-hand"},[t._v(t._s(this.baseCoinAmount)+" "+t._s(t.baseCoin))])]),t._v(" "),t._m(3)]),t._v(" "),t._m(4),t._v(" "),s("OrderFormInput",{attrs:{label_holder:"Value",coin_holder:t.baseCoin,value_step:1e-8,trade_type:"buy",market_type:"market",is_err:t.marketBuyErr,err_msg:t.marketBuyErrMsg}}),t._v(" "),s("div",{staticClass:"efficient-percent"},[t.isLimitMode?t._e():s("vue-slider",{ref:"buySliderMarket",attrs:{data:t.sl_ops.data,disabled:t.baseCoinAmount<=0,height:2,"slider-style":t.sl_ops.sliderStyleBuy,"process-style":t.sl_ops.processStyleBuy,tooltip:!1,piecewise:!0,piecewiseLabel:!0,"piecewise-style":t.sl_ops.piecewiseStyle,"piecewise-active-style":t.sl_ops.piecewiseActiveStyleBuy},on:{callback:t.changeSliderBuyMarket},model:{value:t.buy_value_market,callback:function(e){t.buy_value_market=e},expression:"buy_value_market"}})],1),t._v(" "),s("div",{staticClass:"submit-wrap"},[s("button",{staticClass:"btn-sm btn btn-green",class:{unclickable:!t.isEnableBuyBtn},staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.sendMarketBuyRequest}},[t._v("Buy "+t._s(t.fiatCoin))])])],1),t._v(" "),s("div",{staticClass:"component-placeorder-market"},[s("div",{staticClass:"component-placeorder-available"},[s("div",[s("span",[t._v("Available: ")]),t._v(" "),s("span",{staticClass:"cur-hand"},[t._v(t._s(this.fiatCoinAmount)+" "+t._s(t.fiatCoin))])]),t._v(" "),t._m(5)]),t._v(" "),t._m(6),t._v(" "),s("OrderFormInput",{attrs:{label_holder:"Amount",coin_holder:t.fiatCoin,value_step:1e-8,trade_type:"sell",market_type:"market",is_err:t.marketSellErr,err_msg:t.marketSellErrMsg}}),t._v(" "),s("div",{staticClass:"efficient-percent"},[t.isLimitMode?t._e():s("vue-slider",{ref:"sellSliderMarket",attrs:{"slider-style":t.sl_ops.sliderStyleSell,data:t.sl_ops_market.data,disabled:t.fiatCoinAmount<=0,height:2,"process-style":t.sl_ops.processStyleSell,tooltip:!1,piecewise:!0,piecewiseLabel:!0,"piecewise-style":t.sl_ops.piecewiseStyle,"piecewise-active-style":t.sl_ops.piecewiseActiveStyleSell},on:{callback:t.changeSliderSellMarket},model:{value:t.sell_value_market,callback:function(e){t.sell_value_market=e},expression:"sell_value_market"}})],1),t._v(" "),s("div",{staticClass:"submit-wrap"},[s("button",{staticClass:"btn-sm btn btn-red",class:{unclickable:!t.isEnableSellBtn},staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.sendMarketSellRequest}},[t._v("Sell "+t._s(t.fiatCoin))])])],1)]),t._v(" "),s("div",{staticClass:"unlogin-mask",class:{"hide-elem":t.isLogin}},[s("span",[t._v("Please")]),t._v(" \n          "),s("a",{staticClass:"text-login",attrs:{href:"#"}},[t._v("Sign in")]),t._v(" / \n          "),s("a",{staticClass:"text-register",attrs:{href:"#"}},[t._v("Sign up")])])]),t._v(" "),s("modal",{attrs:{name:"error-msg-modal",transition:"nice-modal-fade",width:"400",height:"250"}},[s("div",{staticClass:"modal-content sweet-alert"},[s("div",{staticClass:"sa-icon sa-error animateErrorIcon",staticStyle:{display:"block"}},[s("span",{staticClass:"sa-x-mark animateXMark"},[s("span",{staticClass:"sa-line sa-left"}),t._v(" "),s("span",{staticClass:"sa-line sa-right"})])]),t._v(" "),s("div",{staticClass:"v-modal-body"},[s("h2",[t._v(t._s(t.tradeErrTitle))]),t._v(" "),s("p",{staticClass:"lead text-muted ",staticStyle:{display:"block"}},[t._v("\n          "+t._s(t.tradeErrMsg)+"\n        ")])])])]),t._v(" "),s("modal",{attrs:{name:"success-msg-modal",transition:"nice-modal-fade",width:"400",height:"250"}},[s("div",{staticClass:"modal-content sweet-alert"},[s("div",{staticClass:"sa-icon sa-success animateErrorIcon",staticStyle:{display:"block"}},[s("span",{staticClass:"sa-line sa-tip animateSuccessTip"}),t._v(" "),s("span",{staticClass:"sa-line sa-long animateSuccessLong"}),t._v(" "),s("div",{staticClass:"sa-fix"})]),t._v(" "),s("div",{staticClass:"v-modal-body"},[s("h2",[t._v(t._s(t.tradeSuccessTitle))]),t._v(" "),s("p",{staticClass:"lead text-muted ",staticStyle:{display:"block"}},[t._v("\n          "+t._s(t.tradeSuccessMsg)+"\n        ")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fees-wrap"},[e("div",{staticClass:"fr deductible"}),this._v(" "),e("div",{staticClass:"fees-box"},[e("div",{staticClass:"fees"},[e("span",[this._v("Maker: ")]),e("span",[this._v("0.1%")])]),this._v(" "),e("div",{staticClass:"fees"},[e("span",[this._v("Taker: ")]),e("span",[this._v("0.1%")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"#"}},[e("span",[this._v("deposit")]),e("span",[this._v(">")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"#"}},[e("span",[this._v("deposit")]),this._v(" "),e("span",[this._v(">")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"#"}},[e("span",[this._v("deposit")]),this._v(" "),e("span",[this._v(">")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"market-price"},[e("span",[this._v("Buy in the order of current selling price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"#"}},[e("span",[this._v("deposit")]),this._v(" "),e("span",[this._v(">")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"market-price"},[e("span",[this._v("Sell in the order of current buying price")])])}]};var nt={name:"OrderHistory",components:{PageLoading:D},props:{},data:function(){return{baseCoin:this.$store.state.market.baseCoin,fiatCoin:this.$store.state.market.fiatCoin,marketName:this.$store.state.market.currentMarket,isLogin:!1,orderQueryOffset:0,orderQueryLimit:100,historyQueryOffset:0,historyQueryLimit:100,currentTrans:[],currentOrders:[],orderHistory:[],isNoOrders:!0,isNoHistory:!0,executedHistory:[],time_offset:this.$store.state.time_offset,cancelErrTitle:"",cancelSuccessTitle:"",cancelErrMsg:"",cancelSuccessMsg:"",showAjaxProgress:!1}},created:function(){var t=this;this.$eventBus.$on("update-current-order",function(e){console.log("Updating Current Orders From Buy Action");var s=0;t.currentOrders.forEach(function(t){t.id==e.id&&s++}),0==s&&t.currentOrders.push(e)})},computed:{},mounted:function(){this.checkIsLogin(),this.$store.watch(function(t){return t.market.currentMarket},this.marketSelect,{deep:!0}),this.$store.watch(function(t){return t.socket.isConnected},this.getInitOrders,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0})},methods:{getInitOrders:function(){"USDT"!=this.baseCoin&&(this.currentTrans.push(this.$gP.ORDER_QUERY),this.sendIDVerificationWeb())},sendIDVerificationWeb:function(){this.$socket.send(a()({method:"server.auth",params:[webToken,webSource],id:this.$gP.ID_VERIFICATION_WEB+1}))},sendOrderQuery:function(){this.$socket.send(a()({method:"order.query",params:[this.marketName,this.orderQueryOffset,this.orderQueryLimit],id:this.$gP.ORDER_QUERY}))},sendOrderHistory:function(){this.$socket.send(a()({method:"order.history",params:[this.marketName,0,0,this.historyQueryOffset,this.historyQueryLimit,0],id:this.$gP.ORDER_HISTORY}))},sendOrderSubScribe:function(){this.$socket.send(a()({method:"order.subscribe",params:[this.marketName],id:this.$gP.ORDER_SUBSCRIBE}))},sendOrderUnSubScribe:function(){this.$socket.send(a()({method:"order.unsubscribe",params:[],id:this.$gP.ORDER_UNSUBSCRIBE}))},marketSelect:function(t){this.baseCoin=this.$store.state.market.baseCoin,this.fiatCoin=this.$store.state.market.fiatCoin,this.marketName=t,this.getInitOrders(),this.currentOrders=[],this.executedHistory=[],this.isNoHistory=!0,this.isNoOrders=!0},msgHandler:function(){var t=JSON.parse(this.$store.state.socket.message);t.id==this.$gP.ID_VERIFICATION_WEB+1?this.dealTransactions(t):t.id==this.$gP.ORDER_QUERY?(null==t.error?(this.getOrderQueryCallback(t.result),this.removeTransInfo(this.$gP.ORDER_QUERY)):(console.error("Error occurred at API:order.query"),console.error(t.error.message)),this.currentTrans.push(this.$gP.ORDER_HISTORY),this.sendIDVerificationWeb()):t.id==this.$gP.ORDER_HISTORY?null==t.error?(console.warn("Getting Order History=>>>>>>>>>>>>>>>>"),this.getHistoryQueryCallback(t.result),console.warn("Getting Order History=>>>>>>>>>>>>>>>>"),this.removeTransInfo(this.$gP.ORDER_HISTORY),this.currentTrans.push(this.$gP.ORDER_SUBSCRIBE),this.sendIDVerificationWeb()):(console.error("Error occurred at API:order.history"),console.error(t.error.message)):t.id==this.$gP.ORDER_SUBSCRIBE?null==t.error&&"success"==t.result.status?(console.log("Removing Order SubScribe Request From Transaction List"),console.log(this.currentTrans),console.log("Removed Transaction ID:==============>"+this.$gP.ORDER_SUBSCRIBE),this.removeTransInfo(this.$gP.ORDER_SUBSCRIBE)):(console.error("Error occurred at API:order.subscribe"),console.error(t.error.message)):"order.update"==t.method&&(t.hasOwnProperty("params")?this.getUpdatedOrderCallback(t.params):(console.error("Error occurred at API:order.update"),console.error(t)))},checkIsLogin:function(){""!=webToken&&""!=webSource&&(this.isLogin=!0)},getOrderQueryCallback:function(t){t.limit==this.orderQueryLimit&&t.total>0?(this.currentOrders=[],t.records.sort(this.myCompareByTime),t.records.forEach(function(t){t.user==userID&&t.market==this.marketName&&this.currentOrders.push(t)},this),this.isNoOrders=0==this.currentOrders.length):this.isNoOrders=!0},getHistoryQueryCallback:function(t){t.limit==this.historyQueryLimit&&t.records.length>0?(this.executedHistory=[],t.records.sort(this.myCompareByTime),t.records.forEach(function(t){t.user==userID&&t.market==this.marketName&&this.executedHistory.push(t)},this),this.isNoHistory=0==this.executedHistory.length):this.isNoHistory=!0},getUpdatedOrderCallback:function(t){if(t[1].user==userID)switch(t[0]){case 1:this.currentOrders.push(t[1]);break;case 2:console.log("Order updated"),this.currentOrders.forEach(function(e,s){e.id==t[1].id&&(this.currentOrders[s]=t[1])},this);break;case 3:var e=-1;this.currentOrders.forEach(function(s){e++,s.id==t[1].id&&this.currentOrders.splice(e,1)},this),Number(t[1].deal_stock)>0&&this.$eventBus.$emit("update-mine",JSON.parse(a()(t[1]))),this.executedHistory.push(t[1])}},removeTransInfo:function(t){if(this.currentTrans.length>0){var e=this.currentTrans.indexOf(t);e>-1&&this.currentTrans.splice(e,1)}},dealTransactions:function(t){if(null==t.error&&"success"==t.result.status&&this.currentTrans.length>0){var e=this.currentTrans[0];e==this.$gP.ORDER_QUERY?this.sendOrderQuery():e==this.$gP.ORDER_HISTORY?this.sendOrderHistory():e==this.$gP.ORDER_SUBSCRIBE&&this.sendOrderSubScribe()}},onCancelOrder:function(t){var e=this;if(this.isLogin){this.showAjaxProgress=!0;var s={cmd:"cancel",market:this.marketName,user_id:userID,order_id:t};F.a.post(apiURL,s).then(function(s){var i=s.data;if(null==i.error&&i.result.user==userID){e.$eventBus.$emit("update-user-balance",i.result);var r=-1;e.orderHistory.forEach(function(e){r++,e.id==t&&this.orderHistory.splice(r)}),e.cancelSuccessTitle="Done!",e.cancelSuccessMsg="Order Canceled successfully!",e.$modal.show("success-msg-modal")}else e.cancelErrTitle="Something went wrong!",e.cancelErrMsg=i.error.message,e.$modal.show("cancel-error-msg-modal");e.showAjaxProgress=!1},function(t){e.showAjaxProgress=!1,e.cancelErrTitle=t.message,e.cancelErrMsg="Please check your network!",e.$modal.show("cancel-error-msg-modal")})}},myCompareByTime:function(t,e){return t.ctime<e.ctime?-1:t.ctime>e.ctime?1:0},getOrderType:function(t){return 1==t?"Limit":"Market"},getOrderTypeClass:function(t){return{"cur-limit-order":1==t,"cur-market-order":2==t}},getOrderSideType:function(t){return 1==t?"Sell":"Buy"},getOrderSideTypeClass:function(t){return{"c-red":1==t,"c-green":2==t}},getOrderStatus:function(t){return 0==Number(t)?"Canceled":"Finished"},getOrderStatusClass:function(t){return{"canceled-order":0==Number(t),"finished-order":Number(t)>0}}},filters:{formatNumberPrice:function(t){return l()(t).format("0,0.[00000000]")},formatOrderTime:function(t){var e=new Date(1e3*t);return e=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"txu-order-history"}},[s("PageLoading",{attrs:{loadingDone:t.showAjaxProgress}}),t._v(" "),s("div",{staticClass:"current-panel"},[t._m(0),t._v(" "),s("div",{staticClass:"cmp-exchange-current"},[s("div",[s("table",{staticClass:"table-current table b-table",attrs:{"aria-busy":"false","aria-colcount":"9"}},[s("thead",[s("tr",[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Order Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Side")]),t._v(" "),s("th",{attrs:{"aria-colindex":"4"}},[t._v("Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"5"}},[t._v("Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"6"}},[t._v("Unexecuted("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"7"}},[t._v("Executed("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"8"}},[t._v("Avg. Price("+t._s(t.baseCoin)+")")]),t._v(" "),t._m(1)])]),t._v(" "),s("tbody")]),t._v(" "),t.isNoOrders?t._e():s("div",{staticClass:"order-table-wrapper"},[s("table",{staticClass:"table-current table b-table",attrs:{"aria-busy":"false","aria-colcount":"9"}},[s("thead",[s("tr",{staticStyle:{visibility:"collapse"}},[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Order Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Side")]),t._v(" "),s("th",{attrs:{"aria-colindex":"4"}},[t._v("Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"5"}},[t._v("Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"6"}},[t._v("Unexecuted("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"7"}},[t._v("Executed("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"8"}},[t._v("Avg. Price("+t._s(t.baseCoin)+")")]),t._v(" "),t._m(2)])]),t._v(" "),s("tbody",t._l(t.currentOrders,function(e){return s("tr",[s("td",[t._v(t._s(t._f("formatOrderTime")(parseInt(e.ctime)-t.time_offset)))]),t._v(" "),s("td",{class:t.getOrderTypeClass(e.type)},[t._v(t._s(t.getOrderType(e.type)))]),t._v(" "),s("td",{class:t.getOrderSideTypeClass(e.side)},[t._v(t._s(t.getOrderSideType(e.side)))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[t._v(t._s(e.amount))]),t._v(" "),s("td",[t._v(t._s(t._f("formatNumberPrice")(Number(e.amount-e.deal_stock))))]),t._v(" "),s("td",[t._v(t._s(e.deal_stock))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[s("a",{staticClass:"cur-hand cancel-current-order",on:{click:function(s){t.onCancelOrder(e.id)}}},[t._v("Cancel")])])])}))])])]),t._v(" "),t.isNoOrders?s("div",{staticClass:"component-blank"},[s("i",{staticClass:"fa fa-folder-o"}),t._v(" "),s("span",{staticClass:"text"},[t._v(" No content")])]):t._e()])]),t._v(" "),s("div",{staticClass:"history-panel"},[t._m(3),t._v(" "),s("div",{staticClass:"history-order content"},[s("table",{staticClass:"table-history table b-table",attrs:{"aria-busy":"false","aria-colcount":"9"}},[s("thead",[s("tr",[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Execution Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Side")]),t._v(" "),s("th",{attrs:{"aria-colindex":"4"}},[t._v("Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"5"}},[t._v("Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"6"}},[t._v("Executed Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"7"}},[t._v("Executed Value("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"8"}},[t._v("Avg. Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"9"}},[t._v("Operation")])])]),t._v(" "),s("tbody")]),t._v(" "),t.isNoHistory?t._e():s("div",{staticClass:"order-table-wrapper"},[s("table",{staticClass:"table-history table b-table",attrs:{"aria-busy":"false","aria-colcount":"9"}},[s("thead",[s("tr",{staticStyle:{visibility:"collapse"}},[s("th",{attrs:{"aria-colindex":"1"}},[t._v("Execution Time")]),t._v(" "),s("th",{attrs:{"aria-colindex":"2"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{"aria-colindex":"3"}},[t._v("Side")]),t._v(" "),s("th",{attrs:{"aria-colindex":"4"}},[t._v("Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"5"}},[t._v("Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"6"}},[t._v("Executed Amount("+t._s(t.fiatCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"7"}},[t._v("Executed Value("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"8"}},[t._v("Avg. Price("+t._s(t.baseCoin)+")")]),t._v(" "),s("th",{attrs:{"aria-colindex":"9"}},[t._v("Operation")])])]),t._v(" "),s("tbody",t._l(t.executedHistory,function(e){return s("tr",[s("td",[t._v(t._s(t._f("formatOrderTime")(parseInt(e.ctime)-t.time_offset)))]),t._v(" "),s("td",{class:t.getOrderTypeClass(e.type)},[t._v(t._s(t.getOrderType(e.type)))]),t._v(" "),s("td",{class:t.getOrderSideTypeClass(e.side)},[t._v(t._s(t.getOrderSideType(e.side)))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[t._v(t._s(e.amount))]),t._v(" "),s("td",[t._v(t._s(e.deal_stock))]),t._v(" "),s("td",[t._v(t._s(e.deal_money))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[s("span",{staticClass:"cur-hand",class:t.getOrderStatusClass(e.deal_stock)},[t._v("\n                  "+t._s(t.getOrderStatus(e.deal_stock))+"\n                ")])])])}))])]),t._v(" "),t.isNoHistory?s("div",{staticClass:"component-blank"},[s("i",{staticClass:"fa fa-folder-o"}),t._v(" "),s("span",{staticClass:"text"},[t._v(" No content")])]):t._e()])]),t._v(" "),s("modal",{attrs:{name:"cancel-error-msg-modal",transition:"nice-modal-fade",width:"400",height:"250"}},[s("div",{staticClass:"modal-content sweet-alert"},[s("div",{staticClass:"sa-icon sa-error animateErrorIcon",staticStyle:{display:"block"}},[s("span",{staticClass:"sa-x-mark animateXMark"},[s("span",{staticClass:"sa-line sa-left"}),t._v(" "),s("span",{staticClass:"sa-line sa-right"})])]),t._v(" "),s("div",{staticClass:"v-modal-body"},[s("h2",[t._v(t._s(t.cancelErrTitle))]),t._v(" "),s("p",{staticClass:"lead text-muted ",staticStyle:{display:"block"}},[t._v("\n          "+t._s(t.cancelErrMsg)+"\n        ")])])])]),t._v(" "),s("modal",{attrs:{name:"cancel-success-msg-modal",transition:"nice-modal-fade",width:"400",height:"250"}},[s("div",{staticClass:"modal-content sweet-alert"},[s("div",{staticClass:"sa-icon sa-success animateErrorIcon",staticStyle:{display:"block"}},[s("span",{staticClass:"sa-line sa-tip animateSuccessTip"}),t._v(" "),s("span",{staticClass:"sa-line sa-long animateSuccessLong"}),t._v(" "),s("div",{staticClass:"sa-fix"})]),t._v(" "),s("div",{staticClass:"v-modal-body"},[s("h2",[t._v(t._s(t.cancelSuccessTitle))]),t._v(" "),s("p",{staticClass:"lead text-muted ",staticStyle:{display:"block"}},[t._v("\n          "+t._s(t.cancelSuccessMsg)+"\n        ")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row-header"},[e("div",[e("span",[this._v("Current Orders")])]),this._v(" "),e("a",{staticClass:"see-all",staticStyle:{display:"none"},attrs:{href:""}},[e("span",[this._v("More")]),this._v(" "),e("span",[this._v(" >")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{"aria-colindex":"9"}},[e("span",[this._v("Operation")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{"aria-colindex":"9"}},[e("span",[this._v("Operation")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row-header"},[e("div",[e("span",[this._v("Order History")])])])}]};var ct={name:"Main",components:{Ticker:C,TxuHeader:o,TxuMarket:f,TvChart:x,TradeDeal:Y,TradeDepth:Q,BuySell:s("VU/8")(rt,at,!1,function(t){s("HKyu")},null,null).exports,OrderHistory:s("VU/8")(nt,ot,!1,function(t){s("+OOr")},null,null).exports},data:function(){return{}},computed:{},mounted:function(){this.$store.watch(function(t){return t.socket.isConnected},this.getServerTime,{deep:!0}),this.$store.watch(function(t){return t.socket.message},this.msgHandler,{deep:!0})},methods:{getServerTime:function(){this.$socket.send(a()({method:"server.time",params:[],id:this.$gP.SERVER_TIME}))},msgHandler:function(t){var e=JSON.parse(t);e.id==this.$gP.SERVER_TIME&&(this.$store.state.server_time=e.result,this.$store.state.local_time=Math.floor((new Date).getTime()/1e3),this.$store.state.time_offset=e.result-this.$store.state.local_time,console.log("Current Server TimeStamp is:"+e.result),console.log("Current Local TimeStamp is:"+this.$store.state.local_time),console.log("Current TimeStamp Offset is:"+this.$store.state.time_offset))}}},lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"txu-container"},[e("TxuHeader"),this._v(" "),e("div",{staticClass:"txu-content"},[e("div",{staticClass:"txu-content-wrapper"},[e("div",{attrs:{id:"txu-left-side"}},[e("TxuMarket"),this._v(" "),e("TradeDeal")],1),this._v(" "),e("div",{attrs:{id:"txu-center-content"}},[e("Ticker"),this._v(" "),e("div",{attrs:{id:"txu-chart-buy-sell"}},[e("div",{attrs:{id:"txu-chart"}},[e("TvChart",{ref:"trade"}),this._v(" "),e("BuySell")],1),this._v(" "),e("div",{attrs:{id:"txu-right-side"}},[e("TradeDepth")],1)]),this._v(" "),e("OrderHistory")],1)])])],1)},staticRenderFns:[]};var ut={name:"app",components:{Main:s("VU/8")(ct,lt,!1,function(t){s("DmMy")},null,null).exports}},dt={render:function(){var t=this.$createElement;return(this._self._c||t)("Main")},staticRenderFns:[]};var ht,mt=s("VU/8")(ut,dt,!1,function(t){s("wHLP")},"data-v-78ce2e14",null).exports,_t=s("bOdI"),vt=s.n(_t),pt=s("NYxO");i.a.use(pt.a);var ft=new pt.a.Store({state:{socket:{isConnected:!1,message:"",reconnectError:!0},trades:{deals_limit:15,last_id:0},market:{currentMarket:"ETHBTC",curMarketPrice:0,change24:0,highest24:0,lowest24:0,volume24:0,amount24:0,percentSign:!1,baseCoin:"BTC",fiatCoin:"ETH",marketOrders:[{coin:"BCHBTC",price:0,value:0,percent:0},{coin:"LTCBTC",price:0,value:0,percent:0},{coin:"ETHBTC",price:0,value:0,percent:0},{coin:"ZECBTC",price:0,value:0,percent:0},{coin:"XMRBTC",price:0,value:0,percent:0},{coin:"BCHUSDT",price:0,value:0,percent:0},{coin:"LTCUSDT",price:0,value:0,percent:0},{coin:"ETHUSDT",price:0,value:0,percent:0},{coin:"ZECUSDT",price:0,value:0,percent:0},{coin:"XMRUSDT",price:0,value:0,percent:0}]},time_offset:0,server_time:0,local_time:0},mutations:(ht={},vt()(ht,"✅ Socket connected!",function(t,e){i.a.prototype.$socket=e.currentTarget,t.socket.isConnected=!0,setInterval(function(){t.socket.isConnected&&i.a.prototype.$socket.send(a()({method:"server.ping",params:[],id:1011}))},5e3)}),vt()(ht,"❌ Socket disconnected!",function(t,e){t.socket.isConnected=!1,console.log("-----------SOCKET_ONCLOSE--------------")}),vt()(ht,"❌ Socket Error!!!",function(t,e){console.error(t,e),console.log("-----------SOCKET_ONERROR--------------")}),vt()(ht,"Websocket message received",function(t,e){t.socket.message=e.data}),vt()(ht,"Websocket reconnected",function(t,e){console.info(t,e),console.log("-----------SOCKET_ONMESSAGE--------------")}),vt()(ht,"Websocket is having issues reconnecting..",function(t){t.socket.reconnectError=!0,console.log("-----------SOCKET_RECONNECT_ERROR--------------")}),ht)}),bt=s("U8jO"),gt=s.n(bt),Ct=s("Rx5P"),kt=s.n(Ct),yt=s("rifk"),St=s.n(yt),Et={SOCKET_ONOPEN:"✅ Socket connected!",SOCKET_ONCLOSE:"❌ Socket disconnected!",SOCKET_ONERROR:"❌ Socket Error!!!",SOCKET_ONMESSAGE:"Websocket message received",SOCKET_RECONNECT:"Websocket reconnected",SOCKET_RECONNECT_ERROR:"Websocket is having issues reconnecting.."},It={MarketPairs:["BCHBTC","LTCBTC","ETHBTC","ZECBTC","XMRBTC","BCHUSDT","LTCUSDT","ETHUSDT","ZECUSDT","XMRUSDT"],MPOrders:{BCHBTC:10,LTCBTC:11,ETHBTC:12,ZECBTC:13,XMRBTC:14,BCHUSDT:15,LTCUSDT:16,ETHUSDT:17,ZECUSDT:18,XMRUSDT:19},SOCKET_ONOPEN:"✅ Socket connected!",SOCKET_ONCLOSE:"❌ Socket disconnected!",SOCKET_ONERROR:"❌ Socket Error!!!",SOCKET_ONMESSAGE:"Websocket message received",SOCKET_RECONNECT:"Websocket reconnected",SOCKET_RECONNECT_ERROR:"Websocket is having issues reconnecting..",SERVER_PING:1011,SERVER_TIME:1012,TODAY_QUERY:2e3,TODAY_SUBSCRIBE:2200,DEAL_QUERY:3e3,DEAL_SUBSCRIBE:3100,DEAL_UNSUBSCRIBE:3200,MARKET_QUERY:4e3,MARKET_SUBSCRIBE:4100,KLINE_QUERY:5e3,KLINE_SUBSCRIBE:5100,KLINE_UNSUBSCRIBE:5200,DEPTH_QUERY:6e3,DEPTH_SUBSCRIBE:6100,DEPTH_UNSUBSCRIBE:6200,ID_VERIFICATION_WEB:7e3,ASSET_QUERY:8e3,ASSET_HISTORY:8100,ASSET_SUBSCRIBE:8200,ASSET_UNSUBSCRIBE:8300,ORDER_QUERY:9e3,ORDER_HISTORY:9100,ORDER_SUBSCRIBE:9200,ORDER_UNSUBSCRIBE:9300,install:function(){Object.defineProperty(i.a.prototype,"$gP",{get:function(){return It}})}};i.a.use(It),i.a.use(gt.a,"wss://lbx.sgbas.com/",{store:ft,mutations:Et,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),i.a.config.productionTip=!1,i.a.prototype.$eventBus=new i.a,i.a.use(kt.a),i.a.use(St.a),new i.a({store:ft,render:function(t){return t(mt)}}).$mount("#app")},c4dT:function(t,e){},fH1Z:function(t,e){},lHdD:function(t,e){},ryll:function(t,e){},tnfK:function(t,e){},wHLP:function(t,e){},zGP0:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODBweCIgIGhlaWdodD0iODBweCIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0ibGRzLXJpcHBsZSI+CiAgICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNC4wMzM0IiBmaWxsPSJub25lIiBzdHJva2U9IiNjMGY2ZDIiIHN0cm9rZS13aWR0aD0iNiI+CiAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIGNhbGNNb2RlPSJzcGxpbmUiIHZhbHVlcz0iMDs0MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxIiBrZXlTcGxpbmVzPSIwIDAuMiAwLjggMSIgYmVnaW49Ii0wLjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBjYWxjTW9kZT0ic3BsaW5lIiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxIiBrZXlTcGxpbmVzPSIwLjIgMCAwLjggMSIgYmVnaW49Ii0wLjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogICAgPC9jaXJjbGU+CiAgICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzMy41NjcxIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZjdjODEiIHN0cm9rZS13aWR0aD0iNiI+CiAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIGNhbGNNb2RlPSJzcGxpbmUiIHZhbHVlcz0iMDs0MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxIiBrZXlTcGxpbmVzPSIwIDAuMiAwLjggMSIgYmVnaW49IjBzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBjYWxjTW9kZT0ic3BsaW5lIiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxIiBrZXlTcGxpbmVzPSIwLjIgMCAwLjggMSIgYmVnaW49IjBzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogICAgPC9jaXJjbGU+CiAgPC9zdmc+"}},["NHnr"]);